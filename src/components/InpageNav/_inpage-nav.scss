// ----------------------------------
// UI Components
// InpageNav
// ----------------------------------
// Design System 1.0 Alpha
// 2019-11-11
// ----------------------------------

.cc-inpage-nav {
  font-size: var(--body-md);
  letter-spacing: var(--body-letter-spacing);
  line-height: var(--body-line-height-sm);

  @include mq($until: md) {
    border-top: 1px solid var(--colour-grey-10);
    padding-top: calc(2 * var(--space-unit));
  }

  @include mq(md) {
    // positioning required to prevent inpage nav from increasing the gap between standfirst and following page content
    // TODO: moving forward, may need to add this conditionally only when colour banding is not applied
    // left: 0;
    // position: absolute;
    // top: 0;
    // @include grid-column(1, 4);
  }
}

.cc-inpage-nav__title {
  font-size: var(--body-xxs);
  font-weight: 500;
  line-height: 2.4;
  text-transform: uppercase;
}

.cc-inpage-nav__list {
  @extend %list-clean;
}

.cc-inpage-nav__link {
  color: var(--colour-grey-60);
  display: block;
  padding: calc(0.5 * var(--space-unit)) 0;
  text-decoration: none;
  transition: ease var(--transition-duration-fast);
  transition-property: color, padding;
  
  @include hocus {
    color: var(--colour-blue-70);
  }
  
  &:active {
    color: var(--colour-blue-50);
  }
  
  &.is-active {
    border-left: 2px solid var(--colour-blue-60);
    color: var(--colour-grey-80);
    padding-left: var(--space-unit);
  }
}

.sticky-nav { // grid
  margin-bottom: var(--space-xl);

  @include mq(md) {
    // left: 0;
    height: 0;
    margin-bottom: 0;
    pointer-events: none;
    position: sticky;
    top: calc(var(--header-height-sm) + var(--secondary-nav-height));
  }
}

// .sticky-nav-container { // grid child
// }

.cc-inpage-nav {
  @include grid-column(1, 7);

  @include mq(sm) {
    @include grid-column(1, 13);
  }

  @include mq(md) {
    @include grid-column(1, 4);
    pointer-events: all;
  }
}
